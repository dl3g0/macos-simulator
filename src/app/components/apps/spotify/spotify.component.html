<p-dialog #spotify [(visible)]="displaySpotify" [style]="{ width: '650px'}" [closable]="false" [draggable]="true" [resizable]="false" styleClass="dialog-safari" (click)="spotify.moveOnTop()" [ngClass]="{'hidden': displayDialog}">
    <ng-template pTemplate="header">
        <div class="inline-flex align-items-center justify-content-center gap-2">
            <i class="fas fa-circle close" (click)="closeDialog()"></i>
            <i class="fas fa-circle maximize" (click)="minimizeDialog()"></i>
        </div>
    </ng-template>
    
    <div class="music-player">
        <div class="grid m-0">
            <div class="col-12 flex p-4" style="background-color: black; border-radius: 10px;">
                <img class="shadow-5" style="width: 152px; height: 152px; border-radius: 10px;" src="{{currentSong.image}}" alt="" srcset="">
                <div class="pl-4 w-full">
                    <p class="text-2xl font-bold">{{ currentSong.title }}</p>
                    <p class="text-lg">{{ currentSong.artist }}</p>
                    <div class="progress flex align-items-center">
                        <i class="fas fa-step-backward cursor-pointer mx-2" (click)="prevSong()"></i>
                        <input type="range" min="0" [max]="audio.duration" [(ngModel)]="currentTime" (input)="seek($event)">
                        <i class="fas fa-step-forward cursor-pointer ml-2" (click)="nextSong()"></i>
                        <span class="mx-2" style="text-align: center; width: 100px;">{{ formatTime(currentTime) }} / {{ formatTime(audio.duration) }}</span>
                        @if(!isPlaying){
                            <i class="fas fa-play-circle cursor-pointer" (click)="togglePlay()"></i>
                        }@else {
                            <i class="fas fa-pause-circle cursor-pointer" (click)="togglePlay()"></i>
                        }
                    </div>
                </div>
            </div>
            <div class="col-12 playlist">
               
                    <ul>
                      <li *ngFor="let song of songs; let i = index" (click)="selectSong(i)">
                        {{ song.title }} - {{ song.artist }}
                      </li>
                    </ul>
                  
            </div>
        </div>
      </div>
</p-dialog>
